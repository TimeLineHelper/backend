<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/css?family=Caveat|Dosis|Neucha|Open+Sans+Condensed:300|Shadows+Into+Light+Two|Sunflower:300"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <title>Time Line Helper App</title>
  <link rel="icon" href="../assets/logo.png">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>

<body>
  <div class="oauth-container">
    <h1>Google OAuth Login</h1>
    <script>

      let a = document.createElement('a');
      let AUTH_URL = 'https://accounts.google.com/o/oauth2/v2/auth';
      let clientIDQuery = 'client_id=1085617298907-35lrja0a9k91oq9g8s7g8p03biq2816a.apps.googleusercontent.com';
      let responseTypeQuery = 'response_type=code';
      let scopeQuery = 'scope=openid%20profile%20email';
      //change for calander//
      let promptQuery = 'prompt=consent';
      let redirectURIQuery = 'redirect_uri=http://localhost:3000/callback';
      let formattedURL =
        `${AUTH_URL}?${clientIDQuery}&${responseTypeQuery}&${scopeQuery}&${promptQuery}&${redirectURIQuery}`;

      a.setAttribute('href', formattedURL);
      a.textContent = 'login with google';
      console.log('******************************the URL we built:', formattedURL);

      document.body.append(a);
      //pass some of this data in as prompts for react//

      // loginYall.setAttribute('href', formattedURL);
      // a.textContent = 'Login';
      // console.log('the URL we built:', formattedURL);
      // document.body.append(a);

      if (!document.cookie) {
        a.textContent = 'You are not logged in';
      } else {
        let cookies = document.cookie.split('; ');
        if (cookies[0] && cookies[1]) {
          let userInfo = cookies[1].split('=')[1];
          let userName = userInfo.split('%20')[0];
          a.textContent = `Welcome, ${userName}!`;
        }
      }
    </script>
  </div>
  <div class="about-container">
    <h1>Join 365 Timeline!</h1>
    <div id="root"></div>
    <script src="./src/app.js"></script>
  </div>
</body>

</html>